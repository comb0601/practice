<Window x:Class="Lesson03_LightsMaterials.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Lesson 1.3 - Lights and Materials" Height="700" Width="1200"
        Background="#1E1E1E">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2D2D30" Padding="10">
            <StackPanel>
                <TextBlock Text="Lesson 1.3: Lights and Materials"
                          FontSize="20" FontWeight="Bold"
                          Foreground="White"/>
                <TextBlock Text="Explore different lighting types and material properties"
                          FontSize="12" Foreground="#A0A0A0"
                          Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Main Content -->
        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2.5*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- 3D Viewport -->
            <Border Grid.Column="0" BorderBrush="#3E3E42" BorderThickness="1">
                <Viewport3D x:Name="mainViewport">

                    <!-- Camera -->
                    <Viewport3D.Camera>
                        <PerspectiveCamera Position="0,3,10"
                                         LookDirection="0,-3,-10"
                                         UpDirection="0,1,0"
                                         FieldOfView="60"/>
                    </Viewport3D.Camera>

                    <!-- Ambient Light -->
                    <ModelVisual3D x:Name="ambientLightModel">
                        <ModelVisual3D.Content>
                            <AmbientLight x:Name="ambientLight" Color="#202020"/>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <!-- Directional Light -->
                    <ModelVisual3D x:Name="directionalLightModel">
                        <ModelVisual3D.Content>
                            <DirectionalLight x:Name="directionalLight" Color="White" Direction="-1,-1,-1"/>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <!-- Point Light -->
                    <ModelVisual3D x:Name="pointLightModel">
                        <ModelVisual3D.Content>
                            <PointLight x:Name="pointLight" Color="Red"
                                       Position="3,2,3" Range="15"
                                       ConstantAttenuation="1" LinearAttenuation="0.1" QuadraticAttenuation="0.01"/>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <!-- Spot Light -->
                    <ModelVisual3D x:Name="spotLightModel">
                        <ModelVisual3D.Content>
                            <SpotLight x:Name="spotLight" Color="Yellow"
                                      Position="0,5,0" Direction="0,-1,0"
                                      OuterConeAngle="40" InnerConeAngle="30"
                                      Range="20"/>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <!-- Material Demo Spheres -->
                    <!-- Diffuse Material Sphere -->
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <GeometryModel3D x:Name="diffuseSphere">
                                <GeometryModel3D.Material>
                                    <DiffuseMaterial x:Name="diffuseMaterial" Brush="#007ACC"/>
                                </GeometryModel3D.Material>
                                <GeometryModel3D.Transform>
                                    <TranslateTransform3D OffsetX="-4" OffsetY="0" OffsetZ="0"/>
                                </GeometryModel3D.Transform>
                            </GeometryModel3D>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <!-- Specular Material Sphere -->
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <GeometryModel3D x:Name="specularSphere">
                                <GeometryModel3D.Material>
                                    <MaterialGroup>
                                        <DiffuseMaterial Brush="#007ACC"/>
                                        <SpecularMaterial x:Name="specularMaterial" Brush="White" SpecularPower="100"/>
                                    </MaterialGroup>
                                </GeometryModel3D.Material>
                                <GeometryModel3D.Transform>
                                    <TranslateTransform3D OffsetX="-2" OffsetY="0" OffsetZ="0"/>
                                </GeometryModel3D.Transform>
                            </GeometryModel3D>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <!-- Emissive Material Sphere -->
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <GeometryModel3D x:Name="emissiveSphere">
                                <GeometryModel3D.Material>
                                    <MaterialGroup>
                                        <DiffuseMaterial Brush="#007ACC"/>
                                        <EmissiveMaterial x:Name="emissiveMaterial" Brush="#FF6600"/>
                                    </MaterialGroup>
                                </GeometryModel3D.Material>
                                <GeometryModel3D.Transform>
                                    <TranslateTransform3D OffsetX="0" OffsetY="0" OffsetZ="0"/>
                                </GeometryModel3D.Transform>
                            </GeometryModel3D>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <!-- Combined Material Sphere -->
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <GeometryModel3D x:Name="combinedSphere">
                                <GeometryModel3D.Material>
                                    <MaterialGroup>
                                        <DiffuseMaterial Brush="#007ACC"/>
                                        <SpecularMaterial Brush="White" SpecularPower="50"/>
                                        <EmissiveMaterial Brush="#001122"/>
                                    </MaterialGroup>
                                </GeometryModel3D.Material>
                                <GeometryModel3D.Transform>
                                    <TranslateTransform3D OffsetX="2" OffsetY="0" OffsetZ="0"/>
                                </GeometryModel3D.Transform>
                            </GeometryModel3D>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <!-- Metallic Material Sphere -->
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <GeometryModel3D x:Name="metallicSphere">
                                <GeometryModel3D.Material>
                                    <MaterialGroup>
                                        <DiffuseMaterial Brush="#C0C0C0"/>
                                        <SpecularMaterial Brush="White" SpecularPower="200"/>
                                    </MaterialGroup>
                                </GeometryModel3D.Material>
                                <GeometryModel3D.Transform>
                                    <TranslateTransform3D OffsetX="4" OffsetY="0" OffsetZ="0"/>
                                </GeometryModel3D.Transform>
                            </GeometryModel3D>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <!-- Ground Plane -->
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <GeometryModel3D>
                                <GeometryModel3D.Geometry>
                                    <MeshGeometry3D Positions="-10,-1.5,-5  10,-1.5,-5  10,-1.5,5  -10,-1.5,5"
                                                   TriangleIndices="0,1,2  0,2,3"/>
                                </GeometryModel3D.Geometry>
                                <GeometryModel3D.Material>
                                    <DiffuseMaterial Brush="#2D2D30"/>
                                </GeometryModel3D.Material>
                            </GeometryModel3D>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                </Viewport3D>
            </Border>

            <GridSplitter Grid.Column="1" Width="5" Background="#3E3E42"/>

            <!-- Control Panel -->
            <Border Grid.Column="2" Background="#252526" Padding="10">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="Lighting Controls"
                                  FontSize="16" FontWeight="Bold"
                                  Foreground="White" Margin="0,0,0,10"/>

                        <!-- Ambient Light -->
                        <CheckBox x:Name="chkAmbient" Content="Ambient Light"
                                 Foreground="White" IsChecked="True"
                                 Checked="Light_Changed" Unchecked="Light_Changed"
                                 Margin="0,5"/>
                        <TextBlock Text="Intensity:" Foreground="#A0A0A0" Margin="20,5,0,0"/>
                        <Slider x:Name="sliderAmbient" Minimum="0" Maximum="1" Value="0.125"
                               ValueChanged="AmbientIntensity_Changed" Margin="20,0"/>

                        <!-- Directional Light -->
                        <CheckBox x:Name="chkDirectional" Content="Directional Light"
                                 Foreground="White" IsChecked="True"
                                 Checked="Light_Changed" Unchecked="Light_Changed"
                                 Margin="0,15,0,5"/>
                        <TextBlock Text="Intensity:" Foreground="#A0A0A0" Margin="20,5,0,0"/>
                        <Slider x:Name="sliderDirectional" Minimum="0" Maximum="2" Value="1"
                               ValueChanged="DirectionalIntensity_Changed" Margin="20,0"/>

                        <!-- Point Light -->
                        <CheckBox x:Name="chkPoint" Content="Point Light (Red)"
                                 Foreground="White" IsChecked="False"
                                 Checked="Light_Changed" Unchecked="Light_Changed"
                                 Margin="0,15,0,5"/>
                        <TextBlock Text="Position X:" Foreground="#A0A0A0" Margin="20,5,0,0"/>
                        <Slider x:Name="sliderPointX" Minimum="-5" Maximum="5" Value="3"
                               ValueChanged="PointPosition_Changed" Margin="20,0"/>

                        <!-- Spot Light -->
                        <CheckBox x:Name="chkSpot" Content="Spot Light (Yellow)"
                                 Foreground="White" IsChecked="False"
                                 Checked="Light_Changed" Unchecked="Light_Changed"
                                 Margin="0,15,0,5"/>
                        <TextBlock Text="Cone Angle:" Foreground="#A0A0A0" Margin="20,5,0,0"/>
                        <Slider x:Name="sliderSpotAngle" Minimum="10" Maximum="90" Value="40"
                               ValueChanged="SpotAngle_Changed" Margin="20,0"/>

                        <Separator Margin="0,20" Background="#3E3E42"/>

                        <!-- Material Controls -->
                        <TextBlock Text="Material Properties"
                                  FontSize="16" FontWeight="Bold"
                                  Foreground="White" Margin="0,10,0,10"/>

                        <TextBlock Text="Specular Power:" Foreground="#A0A0A0" Margin="0,5"/>
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Slider x:Name="sliderSpecularPower" Minimum="1" Maximum="200" Value="100"
                                   ValueChanged="SpecularPower_Changed"/>
                            <TextBlock Grid.Column="1" Text="{Binding Value, ElementName=sliderSpecularPower, StringFormat='{}{0:F0}'}"
                                      Foreground="#4EC9B0" Width="40" Margin="5,0,0,0" TextAlignment="Right"/>
                        </Grid>

                        <TextBlock Text="Emissive Intensity:" Foreground="#A0A0A0" Margin="0,15,0,5"/>
                        <Slider x:Name="sliderEmissive" Minimum="0" Maximum="1" Value="1"
                               ValueChanged="Emissive_Changed" Margin="0,0"/>

                        <Separator Margin="0,20" Background="#3E3E42"/>

                        <!-- Info -->
                        <TextBlock Text="Material Types:" FontWeight="Bold" Foreground="White" Margin="0,10,0,10"/>

                        <Border Background="#2D2D30" Padding="8" Margin="0,5">
                            <StackPanel>
                                <TextBlock Text="1. Diffuse (Left)" Foreground="#569CD6" FontWeight="Bold"/>
                                <TextBlock Text="Basic matte surface" Foreground="#A0A0A0" TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>

                        <Border Background="#2D2D30" Padding="8" Margin="0,5">
                            <StackPanel>
                                <TextBlock Text="2. Specular" Foreground="#569CD6" FontWeight="Bold"/>
                                <TextBlock Text="Shiny highlights" Foreground="#A0A0A0" TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>

                        <Border Background="#2D2D30" Padding="8" Margin="0,5">
                            <StackPanel>
                                <TextBlock Text="3. Emissive (Center)" Foreground="#569CD6" FontWeight="Bold"/>
                                <TextBlock Text="Self-illuminated" Foreground="#A0A0A0" TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>

                        <Border Background="#2D2D30" Padding="8" Margin="0,5">
                            <StackPanel>
                                <TextBlock Text="4. Combined" Foreground="#569CD6" FontWeight="Bold"/>
                                <TextBlock Text="All properties" Foreground="#A0A0A0" TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>

                        <Border Background="#2D2D30" Padding="8" Margin="0,5">
                            <StackPanel>
                                <TextBlock Text="5. Metallic (Right)" Foreground="#569CD6" FontWeight="Bold"/>
                                <TextBlock Text="High specular" Foreground="#A0A0A0" TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>

                    </StackPanel>
                </ScrollViewer>
            </Border>

        </Grid>

        <!-- Status Bar -->
        <Border Grid.Row="2" Background="#2D2D30" Padding="10">
            <TextBlock Foreground="#A0A0A0">
                <Run Text="Active Lights: "/><Run x:Name="txtActiveLights" Text="2" Foreground="#4EC9B0"/>
                <Run Text="  |  Experiment with different light combinations"/>
            </TextBlock>
        </Border>

    </Grid>

</Window>
