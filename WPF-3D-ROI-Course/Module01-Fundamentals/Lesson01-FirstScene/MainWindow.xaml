<Window x:Class="Lesson01_FirstScene.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Lesson 1.1 - First 3D Scene" Height="600" Width="800"
        Background="#1E1E1E">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2D2D30" Padding="10">
            <StackPanel>
                <TextBlock Text="Lesson 1.1: Your First 3D Scene"
                          FontSize="20" FontWeight="Bold"
                          Foreground="White"/>
                <TextBlock Text="A simple rotating cube demonstrating basic WPF 3D concepts"
                          FontSize="12" Foreground="#A0A0A0"
                          Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- 3D Viewport -->
        <Border Grid.Row="1" Margin="10" BorderBrush="#3E3E42" BorderThickness="1">
            <Viewport3D x:Name="mainViewport">

                <!-- Camera: Defines the viewpoint -->
                <Viewport3D.Camera>
                    <PerspectiveCamera Position="0,0,6"
                                     LookDirection="0,0,-1"
                                     UpDirection="0,1,0"
                                     FieldOfView="60"/>
                </Viewport3D.Camera>

                <!-- Light: Illuminates the scene -->
                <ModelVisual3D>
                    <ModelVisual3D.Content>
                        <DirectionalLight Color="White" Direction="-1,-1,-1"/>
                    </ModelVisual3D.Content>
                </ModelVisual3D>

                <!-- The Cube Model -->
                <ModelVisual3D x:Name="cubeModel">
                    <ModelVisual3D.Content>
                        <GeometryModel3D>
                            <!-- The geometry defines the shape -->
                            <GeometryModel3D.Geometry>
                                <MeshGeometry3D
                                    Positions="-1,1,1  1,1,1  1,-1,1  -1,-1,1
                                               -1,1,-1  1,1,-1  1,-1,-1  -1,-1,-1"
                                    TriangleIndices="0,1,2  0,2,3
                                                    1,5,6  1,6,2
                                                    5,4,7  5,7,6
                                                    4,0,3  4,3,7
                                                    4,5,1  4,1,0
                                                    3,2,6  3,6,7"/>
                            </GeometryModel3D.Geometry>

                            <!-- The material defines appearance -->
                            <GeometryModel3D.Material>
                                <DiffuseMaterial Brush="#007ACC"/>
                            </GeometryModel3D.Material>

                            <!-- Rotation animation -->
                            <GeometryModel3D.Transform>
                                <RotateTransform3D>
                                    <RotateTransform3D.Rotation>
                                        <AxisAngleRotation3D x:Name="rotation" Axis="0,1,0" Angle="0"/>
                                    </RotateTransform3D.Rotation>
                                </RotateTransform3D>
                            </GeometryModel3D.Transform>
                        </GeometryModel3D>
                    </ModelVisual3D.Content>
                </ModelVisual3D>

            </Viewport3D>
        </Border>

        <!-- Info Panel -->
        <Border Grid.Row="2" Background="#2D2D30" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="Camera Position: (0, 0, 6)" Foreground="White" Margin="0,0,20,0"/>
                    <TextBlock Text="Rotation Angle: " Foreground="White"/>
                    <TextBlock x:Name="rotationAngleText" Text="0Â°" Foreground="#4EC9B0"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="btnToggleRotation" Content="Start Rotation"
                           Click="ToggleRotation_Click"
                           Padding="15,5" Margin="5,0"/>
                    <Button Content="Reset" Click="Reset_Click"
                           Padding="15,5" Margin="5,0"/>
                </StackPanel>
            </Grid>
        </Border>

    </Grid>

    <!-- Animation Storyboard -->
    <Window.Resources>
        <Storyboard x:Key="RotationStoryboard" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="rotation"
                           Storyboard.TargetProperty="Angle"
                           From="0" To="360"
                           Duration="0:0:5"/>
        </Storyboard>
    </Window.Resources>

</Window>
