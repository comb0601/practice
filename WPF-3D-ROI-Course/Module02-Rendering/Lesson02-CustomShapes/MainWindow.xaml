<Window x:Class="Lesson02_CustomShapes.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Lesson 2.2 - Custom 3D Shapes" Height="700" Width="1100"
        Background="#1E1E1E">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#2D2D30" Padding="10">
            <StackPanel>
                <TextBlock Text="Lesson 2.2: Custom 3D Shapes Generator"
                          FontSize="20" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="Procedural generation of cylinders, cones, torus, spheres, and prisms"
                          FontSize="12" Foreground="#A0A0A0" Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2.5*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" BorderBrush="#3E3E42" BorderThickness="1">
                <Viewport3D x:Name="mainViewport">
                    <Viewport3D.Camera>
                        <PerspectiveCamera Position="0,3,8" LookDirection="0,-3,-8"
                                         UpDirection="0,1,0" FieldOfView="60"/>
                    </Viewport3D.Camera>

                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <AmbientLight Color="#404040"/>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <DirectionalLight Color="White" Direction="-1,-1,-1"/>
                        </ModelVisual3D.Content>
                    </ModelVisual3D>

                    <ModelVisual3D x:Name="shapeModel">
                        <ModelVisual3D.Transform>
                            <RotateTransform3D>
                                <RotateTransform3D.Rotation>
                                    <AxisAngleRotation3D x:Name="rotation" Axis="0,1,0" Angle="0"/>
                                </RotateTransform3D.Rotation>
                            </RotateTransform3D>
                        </ModelVisual3D.Transform>
                    </ModelVisual3D>

                </Viewport3D>
            </Border>

            <GridSplitter Grid.Column="1" Width="5" Background="#3E3E42"/>

            <Border Grid.Column="2" Background="#252526" Padding="10">
                <ScrollViewer>
                    <StackPanel>
                        <TextBlock Text="Shape Selection" FontSize="16" FontWeight="Bold"
                                  Foreground="White" Margin="0,0,0,10"/>

                        <Button Content="Cylinder" Click="Cylinder_Click" Padding="10,5" Margin="0,3"/>
                        <Button Content="Cone" Click="Cone_Click" Padding="10,5" Margin="0,3"/>
                        <Button Content="Torus" Click="Torus_Click" Padding="10,5" Margin="0,3"/>
                        <Button Content="Sphere" Click="Sphere_Click" Padding="10,5" Margin="0,3"/>
                        <Button Content="Prism (6-sided)" Click="Prism6_Click" Padding="10,5" Margin="0,3"/>
                        <Button Content="Prism (8-sided)" Click="Prism8_Click" Padding="10,5" Margin="0,3"/>

                        <Separator Margin="0,15" Background="#3E3E42"/>

                        <TextBlock Text="Parameters" FontSize="16" FontWeight="Bold"
                                  Foreground="White" Margin="0,0,0,10"/>

                        <TextBlock Text="Segments:" Foreground="#A0A0A0" Margin="0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Slider x:Name="sliderSegments" Minimum="3" Maximum="64" Value="24"
                                   ValueChanged="Parameters_Changed"/>
                            <TextBlock Grid.Column="1" Text="{Binding Value, ElementName=sliderSegments, StringFormat='{}{0:F0}'}"
                                      Foreground="#4EC9B0" TextAlignment="Right" Margin="5,0,0,0"/>
                        </Grid>

                        <TextBlock Text="Radius:" Foreground="#A0A0A0" Margin="0,10,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Slider x:Name="sliderRadius" Minimum="0.5" Maximum="2.0" Value="1.0"
                                   ValueChanged="Parameters_Changed"/>
                            <TextBlock Grid.Column="1" Text="{Binding Value, ElementName=sliderRadius, StringFormat='{}{0:F1}'}"
                                      Foreground="#4EC9B0" TextAlignment="Right" Margin="5,0,0,0"/>
                        </Grid>

                        <TextBlock Text="Height:" Foreground="#A0A0A0" Margin="0,10,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Slider x:Name="sliderHeight" Minimum="0.5" Maximum="3.0" Value="2.0"
                                   ValueChanged="Parameters_Changed"/>
                            <TextBlock Grid.Column="1" Text="{Binding Value, ElementName=sliderHeight, StringFormat='{}{0:F1}'}"
                                      Foreground="#4EC9B0" TextAlignment="Right" Margin="5,0,0,0"/>
                        </Grid>

                        <Separator Margin="0,15" Background="#3E3E42"/>

                        <TextBlock Text="Options" FontSize="16" FontWeight="Bold"
                                  Foreground="White" Margin="0,0,0,10"/>

                        <CheckBox x:Name="chkAutoRotate" Content="Auto Rotate" IsChecked="True"
                                 Foreground="White" Checked="AutoRotate_Changed" Unchecked="AutoRotate_Changed"/>
                        <CheckBox x:Name="chkShowWireframe" Content="Wireframe" IsChecked="False"
                                 Foreground="White" Margin="0,5" Checked="Wireframe_Changed" Unchecked="Wireframe_Changed"/>

                        <Separator Margin="0,15" Background="#3E3E42"/>

                        <TextBlock Text="Current Shape" FontSize="16" FontWeight="Bold"
                                  Foreground="White" Margin="0,0,0,10"/>

                        <Border Background="#2D2D30" Padding="10">
                            <StackPanel>
                                <TextBlock x:Name="txtShapeName" Text="Cylinder" Foreground="#4EC9B0" FontSize="14" FontWeight="Bold"/>
                                <TextBlock x:Name="txtShapeInfo" Foreground="#A0A0A0" TextWrapping="Wrap" Margin="0,5"/>
                            </StackPanel>
                        </Border>

                    </StackPanel>
                </ScrollViewer>
            </Border>

        </Grid>

        <Border Grid.Row="2" Background="#2D2D30" Padding="10">
            <TextBlock Foreground="#A0A0A0" Text="Click shape buttons and adjust parameters to see procedural generation in action"/>
        </Border>
    </Grid>

    <Window.Resources>
        <Storyboard x:Key="RotationStoryboard" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="rotation"
                           Storyboard.TargetProperty="Angle"
                           From="0" To="360" Duration="0:0:8"/>
        </Storyboard>
    </Window.Resources>
</Window>
